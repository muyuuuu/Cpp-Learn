# 文件系统库

文件，路径，分隔符，名字空间起别名(不是类)。

## 路径

- 构造函数：传入字符串
- 追加：`append`添加分隔符，`concat`不添加
- 清除：`clear`
- 删除路径中的指定文件名：`remove_filename`
- 替换路径中的指定文件名：`replace_filename`
- 拆分根名：`root_name`
- 拆分根目录：`rood_directory`
- 父目录：`parent_path`
- 文件名：`filename`
- 不含扩展名的文件名：`stem`
- 扩展名：`extension`
- 检查路径是否为空：`empty`
- 判断路径是否有对应元素：`has_xxx`
- 连接：`p/"Users"/"lanling"` （重载）
- 流输入与流输出：`<<>>`
- 文件类型，大小，状态信息等
- 删除，拷贝，重命名，移动等

# 输入输出类

`fstream`操作文件，包含输入与输出。读文件，流输入运算符，写文件，流输出运算符。状态测试。

什么是流：是一个数据序列。含有两个端点：数据源与程序，数据源可以是硬盘，文件，字符串，鼠标，键盘等。程序可以将数据源提取信息，也可以将程序的信息写入数据源。

缓冲区`streambuf`：并非直接写出和读入，而是在内存开辟一块缓冲区，分为文件buff和字符串buff。

# 写入数据到文件

`ofstream`向文本文件写数据，文本已经存在的话，不做特别声明会直接覆盖。创造`ofstream`实例：

- 带路径参数，构造函数打开文件，析构函数关闭文件
- 没有传入参数，`open()`函数打开文件，`close()`函数关闭文件

流输出运算符`<<`写入，自动识别数据类型。如字符串，浮点数到ASCII的转换。

# 从文件读取数据

`ifstream`类，流数据提取运算符，要检测文件是否被成功打开。创建`ifstream`实例：

- 带路径参数，构造函数打开文件，析构函数关闭文件
- 没有传入参数，`open()`函数打开文件，`close()`函数关闭文件
- 文件打开成功(文件不存在等)，时刻检测是否读到文件末尾`eof`，`>>`读取数据，空格分隔数据

读取数据前了解数据的格式和含义，声明的类型和实际类型要匹配。

`ifstream in`，`in.get()`返回`int`类型，屏幕显示建议强制类型转换为`char`。

# 格式化输出

按照期望的格式输出到屏幕或写入文件。
- `setw`，设置域宽，数据所占总字符数，默认右对齐。只对后面的第一个数据有效，后面的不受影响。默认宽度是0，实际数据超出指定宽度时，按照实际宽度输出。
- `setprecision`，设置浮点数精度，即所有数字的位数，不加小数点。
- `setfill`，填充字符，左边填充。
- `fixed(n)`，小数点后几位。
- `showpoint`，浮点数带小数点和尾数0输出，即使浮点数没有小数部分
- `left`，左对齐
- `right`，右对齐
- `put_money, get_money`，货币值
- `put_time, get_time`，日期时间

# 输入/输出流函数

`std::getline(istream, string, delimiter)`，获取流中的数据或将数据写入流。

- `get()`读单个字符，`in.get()`返回`int`类型，`in.get(c)`返回`char`类型
- `put()`输出单个字符，`put(char c)`
- `flush`，强制将缓冲区数据写入流，`cout.flush()`，`cout << "hello" << std::flush`

# 文件打开模式

编译器不同取值可能不同：
- `in`打开文件读数据
- `out`打开文件写数据
- `app`追加到文件末尾
- `ate`文件光标移动到末尾
- `trunc`文件存在，则舍弃其中的内容
- `binary`二进制读写

位或组合在一起：`out|app`，追加写。